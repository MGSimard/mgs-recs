{"version":3,"file":"index-CD8KhjIM.mjs","sources":["../../../../../src/_components/HeroWebGL/Shader.tsx","../../../../../src/_components/HeroWebGL/HeroWebGL.tsx","../../../../../src/routes/index.tsx?tsr-split=component"],"sourcesContent":null,"names":["setCanvasSize","canvas","offscreen","dpr","Math","round","max","min","window","devicePixelRatio","width","offsetWidth","height","offsetHeight","Shader","forwardRef","props","ref","source","textures","maxFps","initialState","onRender","canvasRef","useRef","playbackStateRef","timeRef","eventTimeRef","glStateRef","useImperativeHandle","play","current","pause","fireEvent","useEffect","canvasEl","offscreenCanvas","OffscreenCanvas","animationId","glRaw","getContext","ctxRaw","gl","ctx","compileShader","type","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","console","error","getShaderInfoLog","deleteShader","vertexShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","program","createProgram","vs","fs","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","useProgram","buffer","createBuffer","vertices","Float32Array","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","coordLoc","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","uResolution","getUniformLocation","uTime","uEventTime","uniform2f","enable","BLEND","blendFunc","SRC_ALPHA","ONE","disable","DEPTH_TEST","startTime","lastFrame","loadedTextures","render","frameTime","requestAnimationFrame","now","viewport","uniform1f","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","i","length","tex","location","uniform1i","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","texture","drawArrays","TRIANGLE_STRIP","clearRect","drawImage","texInfo","Promise","resolve","reject","createTexture","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","info","img","Image","addEventListener","texImage2D","RGBA","UNSIGNED_BYTE","src","push","resizeObserver","ResizeObserver","observe","cancelAnimationFrame","disconnect","deleteProgram","deleteBuffer","deleteTexture","join","jsx","className","shaderTextures","HeroWebGL","$","_c","containerDivRef","shaderRef","t0","t1","t2","Symbol","for","timeoutId","idleId","playShader","undefined","clearTimeout","cancelIdleCallback","children","SplitComponent","Fragment"],"mappings":"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"}